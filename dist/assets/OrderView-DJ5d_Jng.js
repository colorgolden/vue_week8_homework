import{a as n}from"./axios-Bo0ATomq.js";import{_ as h,c as a,a as t,F as l,f as _,b as p,r as m,o as r,t as o}from"./index-BHhkA8M0.js";var g={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"forest_mind",BASE_URL:"/vue_week8_homework/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:i,VITE_PATH:f}=g,k={data(){return{temp:{},carts:[],pages:{}}},created(){this.checkLogin(),this.getCarts()},methods:{checkLogin(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)newToken\s*=\s*([^;]*).*$)|^.*$/,"$1");n.defaults.headers.common.Authorization=e,this.$route.path.includes("/admin")&&n.post(`${i}/v2/api/user/check`,{},{headers:{Authorization:e}}).then(()=>{}).catch(()=>{alert("尚未登入會員，請重新登入！"),this.$router.push("login")})},getCarts(){console.log(this.$route),n.get(`${i}/v2/api/${f}/admin/orders`).then(e=>{console.log(e),this.carts=e.data.orders}).catch(e=>{alert(e)})}},components:{}},$=t("hr",null,null,-1),b={class:"container"},y=t("h4",null,"訂單管理頁面",-1),v={class:"table mt-4"},w=t("thead",null,[t("tr",null,[t("th",{width:"120"}," 訂購人姓名 "),t("th",null,"地址"),t("th",{width:"120"}," 電話 "),t("th",{width:"120"}," 電子信箱 "),t("th",{width:"100"}," 詳細資料 ")])],-1),x={class:"text-end"},E={class:"text-end"},V=t("td",null,[t("button",{style:{"background-color":"#41774A"},type:"button",class:"btn btn-primary"},"詳細")],-1);function T(e,A,L,R,c,d){const u=m("pagination");return r(),a(l,null,[$,t("div",b,[y,t("table",v,[w,(r(!0),a(l,null,_(c.carts,s=>(r(),a("tbody",{key:s.id},[t("tr",null,[t("td",null,o(s.use.name),1),t("td",null,o(s.user.address),1),t("td",x,o(s.user.tel),1),t("td",E,o(s.user.email),1),V])]))),128))]),p(u,{style:{display:"flex","justify-content":"center","align-items":"center"},pages:c.pages,"get-products":d.getCarts},null,8,["pages","get-products"])])],64)}const D=h(k,[["render",T]]);export{D as default};
